<ion-header>
  <ion-toolbar>
    <ion-title *ngIf="!local_id">Adicionar Local</ion-title>
    <ion-title *ngIf="local_id">Editar Local</ion-title>
    <ion-buttons slot="primary">
      <ion-button (click)="fecharModal()">
        <ion-icon slot="icon-only" name="close" alt="Fechar"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content padding>

    <ion-item>
        <ion-label position="floating">Título</ion-label>
        <ion-input [(ngModel)]="local.nome"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label position="floating">Descrição</ion-label>
        <ion-input [(ngModel)]="local.descricao"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label>Foto</ion-label>
      </ion-item>
      <ion-item>        
        <input type="file" (change)="uploadArquivo($event)">
      </ion-item>
      <ion-item [hidden]="!localizacao">
        <div #gmap style="width:100%;height:400px"></div>
      </ion-item>
      <ion-item *ngIf="!localizacao">
        <p>
          Não foi possível encontrar sua localização atual. 
          Por favor, habilite o GPS do seu dispositivo ou utilize um navegador mais moderno.
        </p>
      </ion-item>
      <ion-button expand="block" 
                  color="primary" 
                  [disabled]="
                    !local.nome || 
                    !local.descricao" 
                  (click)="adicionarLocal()">
        Adicionar
      </ion-button>

      


    

</ion-content>

<style>
/* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
       #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      #description {
        font-family: Roboto;
        font-size: 15px;
        font-weight: 300;
      }

      #infowindow-content .title {
        font-weight: bold;
      }

      #infowindow-content {
        display: none;
      }

      #map #infowindow-content {
        display: inline;
      }

      .pac-card {
        margin: 10px 10px 0 0;
        border-radius: 2px 0 0 2px;
        box-sizing: border-box;
        -moz-box-sizing: border-box;
        outline: none;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
        background-color: #fff;
        font-family: Roboto;
      }

      #pac-container {
        padding-bottom: 12px;
        margin-right: 12px;
      }

      .pac-controls {
        display: inline-block;
        padding: 5px 11px;
      }

      .pac-controls label {
        font-family: Roboto;
        font-size: 13px;
        font-weight: 300;
      }

      #pac-input {
        background-color: #fff;
        font-family: Roboto;
        font-size: 15px;
        font-weight: 300;
        margin-left: 12px;
        padding: 0 11px 0 13px;
        text-overflow: ellipsis;
        width: 400px;
      }

      #pac-input:focus {
        border-color: #4d90fe;
      }

      #title {
        color: #fff;
        background-color: #4d90fe;
        font-size: 25px;
        font-weight: 500;
        padding: 6px 12px;
      }
      #target {
        width: 345px;
      }
</style>
